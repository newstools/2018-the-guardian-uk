The US Senate is poised to vote on a sweeping $1.3tn spending bill just hours after the 2,232-page text was released to lawmakers, as Republican leaders rushed to avert a third government shutdown in as many months. The bill, which passed the House 256-167 on Thursday, funds government agencies through September, the end of the fiscal year, and delivers on a key promise by Donald Trump – to increase military funding – while bypassing much of his immigration agenda. The legislation does not include protections for young migrants known as Dreamers and only takes incremental steps to address gun violence. The House vote was not divided along party lines: 145 Republicans and 111 Democrats voted yes while 90 Republicans and 77 Democrats voted no. The bill faced opposition from the fiscal hawks of the conservative House Freedom Caucus. Vice-chair Jim Jordan summarized his members’ view in an interview with Fox News: “This may be the worst bill I have seen in my time in Congress and the worst bill our leadership has ever allowed to come to the floor.” Members of the Congressional Hispanic Caucus, meanwhile, said it would be “indefensible” to pass a spending bill that did not protect Dreamers. In a press conference before the House vote, Speaker Paul Ryan said negotiators had been working for months and argued that the bill contained no “big surprises”. “These things have been long works in progress,” he said. “The finishing touches came out this week and we have a hard deadline we’re working up against.” The Senate now has until Friday night to avoid a partial shutdown of the federal government. To achieve this, it will need to waive procedural rules on debate and allow votes to occur before the midnight deadline. At least two senators have suggested they may delay proceedings, thereby forcing a brief government shutdown as Senator Rand Paul did in February. “Shame, shame,” the Kentucky Republican tweeted about the new bill. “A pox on both Houses – and parties. $1.3 trillion. Busts budget caps. Two thousand two hundred pages, with just hours to try to read it.” He also posted a photo of himself looking unimpressed while holding the 2,000-plus paged bill that he proceeded to read page by page, tweeting what he sarcastically called the “highlights” of this “terrible, no good, rotten deficit spending bill”. ⚡️ “Tweeting the 2018 Omnibus”https://t.co/qgTCivVbrX Another Republican, Senator John Kennedy of Louisiana, suggested he too may object to bypassing consideration of the bill, which he called “a Great-Dane sized whiz down the leg of every taxpayer in this country”. On Thursday afternoon, the Republican majority leader, Mitch McConnell, moved to start debate on the legislation, setting up a vote for early Saturday morning unless he can secure an agreement to proceed earlier. Leaders of both parties claimed victories. Ryan said the bill fulfilled the Trump agenda, especially on increasing military spending and funding for barriers along the border, which he called a wall. “That’s probably the biggest victory here, is what we’re doing for our soldiers, our sailors, our airmen, our marines and our veterans,” Ryan told Fox. “This funds the wall, fixes the military, fights opioids, does the things that we said.” Trump rejected a deal with Democrats that would have protected Dreamers in exchange for $25bn for a border wall. The new budget includes $1.6bn for barriers along the border, money that is not authorized to be used on the wall prototypes that Trump recently viewed on a visit to California. Speaking at the White House, Mick Mulvaney, the head of Office of Management and Budget, insisted Trump supported the bill. “Is the president going to sign the bill? The answer is yes,” Mulvaney told reporters. He acknowledged that the omnibus was not ideal and contained compromises, saying: “This is what it looks like when you don’t have 60 votes in the Senate and Democrats get to take their pound of flesh.” Trump said on Twitter. on Wednesday night the bill “had to waste money on Dem giveaways in order to take care of military pay increase and new equipment”. Marc Short, the White House director of legislative affairs, said the administration’s real priorities were revealed in the proposed budget it unveiled in February. Democratic leaders touted increases in funding for infrastructure, education, opioids, mental health and childcare, priorities they had failed to achieve under Barack Obama. “It certainly doesn’t have everything Democrats want and it does contain several things Democrats are not thrilled about,” said Chuck Schumer, the Democratic leader, speaking on the Senate floor. “That is true of all good compromises,” he said. The bill includes a modest proposal to improve reporting with the criminal background check system for gun purchases as well as a measure to boost funding for school safety initiatives. It also clarifies language that would allow the US Centers for Disease Control and Prevention to conduct research on gun violence, a provision Democrats pushed hard to include. Senator Chris Murphy of Connecticut said the gun provisions tucked into the budget bill were “small steps” and did little to answer the demands of the student survivors of the Parkland school shooting in Florida last month. The students, who have commanded the national debate on gun violence, will march in Washington this weekend to demand action. “If the small provisions in the budget are all that [Republicans] are willing to do,” said the Connecticut Democrat in a statement, “that would be a tragic insult to all the kids who are rising up across the country demanding that Congress end the gun violence epidemic.”