Belgian investigators have opened a terrorism inquiry after a prisoner on day release shot dead two police officers and a passerby in the centre of Liège before being killed in a shootout. The man, named as Benjamin Herman, 31, had approached the two female officers from behind and repeatedly slashed at them with a boxcutter, or Stanley knife, as they were checking parking meters on Tuesday morning. He then took their service revolvers and shot them dead before turning his fire on a parked car and killing Cyriel Vangriecken, 22, a student at the University of Liège, who was in the passenger seat of his mother’s Ford Fiesta. Philippe Dulieu, the prosecutor in Liège, said the assailant then walked to the Leonie de Waha school where he took a female cleaner hostage. “Police intervened, he came out firing on the police officers, wounding several, before he was killed,” Dulieu said. The pupils at the school had been evacuated by staff via a back entrance. Two anti-terrorims officers were shot in the leg, one seriously, while two police officers from the Judicial Brigade were hit in the arm. Federal prosecutors said they had launched a terror investigation. The Liège police chief, Christian Beaupère, said: “The goal of the attacker was to target the police … It was aimed at the state of Belgium. “Four policemen were injured and taken to the hospital. One of them has already left the hospital, while another has a severe injury to the femoral artery. He in a dangerous condition.” Belgium remains on high alert after a string of attacks including twin suicide bombings in Brussels in 2016 claimed by Islamic State. Witnesses said the attacker was dressed in black and was carrying a rucksack. Footage aired by the Belgian broadcaster RTBF showed Herman chanting “Allahu Akbar” – God is greatest, in Arabic – as he walked through the city. One witness, who was in an office overlooking the scene, told the French broadcaster, LCI.fr, that the assailant could be clearly heard. He said: “He shot everything that moved. But people did not know what was going on at first. The white Ford Fiesta stopped. The passenger was shot close up. “My cleaning lady shouted an insult at him. I threw objects down to knock him out, but I didn’t hit him. He looked around and fixed his weapon.” The Belgian prime minister, Charles Michel, said Herman had been indirectly mentioned in state security reports on radicalisation but that he did not appear on a watch-list. “Different services considered that, based on the elements they had, there was no reason to give him such a qualification,” he said. Michel, described the attacks as “cowardly and blind violence”. “All our support for the victims and their loved ones. We are following the situation with the security services and the crisis centre,” he tweeted. Herman, who was serving a 20-year sentence in Marche prison for drugs and theft convictions, had been given 36 hours’ leave on Monday evening to stay with his grandmother in the town of On, near Marche-en-Famenne. Since being imprisoned in 2003, he had completed 11 one-day release permits and 13 two-day periods of leave without problems. Investigators are examining whether he could have been radicalised in jail. Belgium’s justice minister, Koen Geens, said the attacker was a repeat offender, who had been due for release in two years. “At the moment there is very little consistent we can say about [radicalisation]”, he said. “In any case, he is not a clearcut case, on the contrary. He certainly was not someone who could clearly be qualified as radicalised. Otherwise he would have been known as such by all services.” Herman has since been linked by local media to the murder overnight of a heroin dealer, Michael Wilmet, 30, who had been released from prison a few months earlier, and the armed robbery of a jewellery store in his home town, Rochefort. A spokesman for the federal police declined to comment on the allegations. Belgium’s threat-level rating has not been raised from “unlikely”. The two murdered police officers were named as Lucile Garcia, 53, who had recently become a grandmother, and Soraya Belkacemi, 45, a mother to 13-year-old twins. Garcia’s husband, a fellow police officer, was said to have been at the scene shortly after the shooting. Theresa May said the UK stood “resolute with our Belgian allies against terror”. Emmanuel Macron, the French president, condemned the “terrible attack” and expressed the “solidarity of the French people”.