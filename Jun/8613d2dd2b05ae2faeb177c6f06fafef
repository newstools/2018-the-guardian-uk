The alleged gunman who killed five people at a Maryland newspaper was investigated in May 2013 after threats were made against the paper, police said on Friday. Timothy Altomare, chief of Anne Arundel county police, said Jarrod Ramos was looked into over “online threatening comments” directed at the Capital Gazette in Annapolis, but the newspaper management decided not to pursue criminal charges. “There was a fear that doing so would exacerbate an already flammable situation,” Altomare said at a press conference. Ramos, 38, appeared by video at a county district court accused of murdering five people at the newspaper as part of a years-long feud that began when it reported on his harassment of a woman. He was held without bail. Wes Adams, the county prosecutor, told the court Ramos barricaded a back entrance to the newspaper’s office before entering through the front door and shooting people as they tried to flee through the barricaded door. Speaking outside the court, Adams said this was “evidence that suggested a coordinated attack”. Police said evidence of planning for the shooting was found at Ramos’s apartment in the city of Laurel, about 25 miles from the newspaper office. Ramos, who wore a navy jumpsuit, did not speak or enter a plea. He was represented by a public defender, William Davis, who asked Judge Thomas Pryal to impose a gag order preventing officials from discussing the case publicly. The request was denied. Ramos is charged with five counts of first-degree murder. Four journalists and an advertising saleswoman were killed. Two other people were injured. “It is an unutterable tragedy,” said Altomare. Ramos unsuccessfully sued the newspaper and a journalist in 2012 for defamation, after it published an accurate article about Ramos tormenting a former schoolmate after she rejected his advances online. Ramos had pleaded guilty to a charge of criminal harassment. A Twitter account in Ramos’s name directed abuse at the newspaper and the local judiciary. The account, which bore the tagline “making corpses of corrupt careers”, had been dormant since 2016. But moments before the shootings, it posted: “Fuck you, leave me alone.” Police confirmed on Friday that Ramos, who refused to cooperate after being captured at the scene, had been identified using facial recognition technology. Thomas Marquardt, the Capital Gazette’s former publisher, said he reported Ramos’s behaviour to the police. “I remember telling our attorneys, ‘This is a guy who is going to come in and shoot us,’” Marquardt said in the publication’s sister newspaper, the Baltimore Sun. Ramos is accused of shooting through the glass door to the Capital Gazette offices with a pump-action shotgun and opening fire in the newsroom. Journalists recounted hiding under desks as they heard colleagues being shot and the gunman apparently reloading. Police said the gun was purchased legally about a year ago. Those killed were Gerald Fischman, a 61-year-old editorial writer; editor and writer Rob Hiaasen, 59; reporter and editor John McNamara, 56; Rebecca Smith, a 34-year-old sales assistant; and reporter Wendi Winters, 65. Surviving journalists decamped to a nearby parking garage to produce Friday’s edition of their newspaper. Pat Furgurson, a reporter, told the Guardian that the victims were “just trying to do their job for the public”. The newspaper was published on Friday as promised. “Something like this might happen in Afghanistan or Iraq or something like that but you don’t expect it in a sleepy office across the street from a local mall,” said Furgurson. The mayor of Annapolis, Gavin Buckley, addressed public views of the press after the attack on Thursday. He said: “This paper is not a liberal newspaper, it’s not a rightwing newspaper, it stays in the middle and covers local issues.” The mayor also said: “Journalists, you don’t get paid enough to put your life on the line, we’re not in some war zone, we’re not in some third-world country with a dictator. We are in a Mayberry kind of town, we’re in shock we’re going to be grappling with.” Speaking at the White House on Friday, Donald Trump offered condolences to the families of the victims, and said: “Journalists, like all Americans, should be free from the fear of being violently attacked while doing their jobs.” Trump has frequently told supporters the press are the “enemy of the people”. Trump is due to campaign next week in Montana on behalf of Republicans including congressman Greg Gianforte, who pleaded guilty to assaulting a Guardian reporter last year after lying about it to police. Trump did not condemn that attack at the time. Amid an increasingly hostile environment for journalists in the US, focus fell on remarks made by Judge Maureen Lamasney when she dismissed Ramos’s defamation lawsuit against the newspaper in 2013. “I think people who are the subject of newspaper articles, whoever they may be, feel that there is a requirement that they be placed in the best light, or they have an opportunity to have the story reported to their satisfaction, or have the opportunity to have however much input they believe is appropriate,” Lamasney told Ramos. “But that’s simply not true.”