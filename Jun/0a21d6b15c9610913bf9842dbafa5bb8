Theresa May has narrowly avoided a humiliating defeat over the Brexit bill after Conservative rebels accepted significant concessions from the government on the “meaningful vote” when it returns to the House of Lords next week. Just moments before voting began, the prime minister held 11th-hour talks with about 10 Tory rebels in her Commons office, after which they received personal assurances that she would agree to the broad thrust of their proposals. One MP in the meeting, which included former cabinet minister Justine Greening, said that May told the group it was “a matter of trust”. The Tory rebels, led by the former attorney general Dominic Grieve, later praised the government for “responding positively” to their concerns and claimed that they would be addressed when the EU withdrawal bill goes back to the Lords on Monday. However, furious Brexiters immediately condemned as unworkable Grieve’s plan to hand over control of the government’s Brexit strategy to MPs, suggesting that May’s attempts to overcome deep Tory splits on the issue was failing. A Downing Street source claimed that the prime minister had agreed only to ongoing discussions, raising the prospect of an angry showdown when a delegation of rebel MPs sits down with ministers to thrash out a deal. David Davis’s Brexit department cast further doubt over the rebels’ claims, issuing a statement which read: “We have not, and will not, agree to the House of Commons binding the Government’s hands in the negotiations.” MPs voted by 324 votes to 298 to back the government in rejecting an amendment passed by peers in April that would strengthen the hand of the Commons in the event of it rejecting the final Brexit deal. Tory rebels, who were numerous enough to have otherwise inflicted a damaging defeat, claimed that they had agreed to vote with the government after May agreed to address ongoing concerns. The proposals would mean that in the event of parliament rejecting the final Brexit deal, ministers would have seven days to set out a fresh approach. In the case of talks with the EU breaking down, they would have until 30 November to try to strike a new deal. However, there did not yet appear to be agreement on the final part – clause C – of Grieve’s proposals, that if there was still no deal by 15 February next year, the government would have had to hand over the reins to the House of Commons to set its Brexit strategy. The government climbdown, just hours after Downing Street said it would not compromise further on the meaningful vote proposals, underlined the fragility of the prime minister’s grip on her party and her lack of room for manoeuvre on Brexit. In a day of extraordinary drama, Tory ministers and whips were engaged in frantic negotiations to prevent a damaging defeat over parliament’s ability to block a no-deal Brexit, which came right down to the wire even as the debate carried on. The Brexit secretary, David Davis, opened the debate by saying that the government could not accept anything that could undermine May, hinting that the amendments proposed by Lords and Tory rebels would hamper negotiations. But most of the original 11 rebels on the meaningful vote amendment had indicated that they would stand firm. The justice minister, Philip Lee, dealt a blow to the prime minister by resigning, saying he planned to vote against the government. The former cabinet minister Justine Greening, and George Freeman, Downing Street’s former policy guru, spoke in support of the rebel plans, heightening alarm among government ministers. The Tory chief whip, Julian Smith, scurried up and down the green benches, speaking urgently to groups of MPs, including Grieve. In between discussions, he spoke to ministers on the front benches, including May, scribbling notes on a Commons paper. The prime minister had urged Tory MPs not to undermine her negotiating clout with Brussels by voting against the government, but in a series of passionate speeches, the mood appeared to be shifting against her. In a sign that the government saw the prospect of defeat looming, the solicitor general, Robert Buckland, intervened from the front bench, saying there was “much merit” to parts of the compromise amendment. Shortly afterwards, the former attorney general left the chamber, later joined by the bulk of the remain rebels, who had been sitting together in a corner of the Commons, raising speculation they had been offered a last-minute compromise. After the vote, Grieve told the Guardian: “I am very pleased that the government has listened to the concerns of many colleagues and has responded positively to the need to amend the bill further to provide a proper mechanism to enable parliament to act, where necessary, if there is no deal or a deal is rejected by negotiations. “We will now work with the government to get acceptable amendments tabled in the Lords to address this.” However, the Brexit minister Steve Baker appeared to rule out the government backing Grieve’s plans for parliament to take back control. He told the Guardian: “It is a constitutional innovation which would be totally unprecedented. You cannot have 650 MPs conducting the negotiation. “Brexit is about making our constitution work the way a majority think it does, which is parliament making our laws. What we cannot, should not and must not do is overturn the principles by which international relations are conducted, which is that the government negotiates, and must have the support of parliament.” The Tory Brexiter Andrew Bridgen said: “The Lords have themselves admitted it is a wrecking amendment that is designed to stop Brexit. If the government accepted any version of it, they’d have a much bigger revolt on their hands and it would be led by the electorate.” But Tory rebels appeared unconcerned by opposition to their plan. One said: “Ultimately, if the government don’t accept the Grieve amendment then the Lords will put it down and we’ll have the fight again.” MPs return to the Commons for a second day of votes on the Brexit bill on Wednesday, although after remainers and Brexiters struck a compromise deal on Monday over the customs union, kicking that particular battle into next month, no more defeats are expected. The government won all 11 votes on the Lords amendments, and one more which was not contested. However, by the time the votes were done, there was only 30 minutes left to discuss key concerns over devolution and Brexit, in particular those raised by the Scottish government, to the fury of the SNP.