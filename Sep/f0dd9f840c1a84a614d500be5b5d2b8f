A mass jailbreak by 400 prisoners has added to the chaos of nine days of militia fighting in the Libyan capital, Tripoli, throwing into doubt French-led plans to hold elections later this year and forcing the Italian government to deny it would sanction a military intervention to restore order. The prisoners, reportedly terrified by fighting raging around them, forced their way past guards and broke down doors to escape the Ain Zara prison, flooding into a city already traumatised by the worst street fighting seen in four years. The UN-recognised government of national accord in Tripoli has already declared a state of emergency and the prime minister, Faye al-Sarraj, flew back from a holiday in London to urge a ceasefire. The scale of the fighting led the Italian interior minister, Matteo Salvini, to deny media reports of a possible military intervention by Italian special forces. “I exclude military interventions that do not solve anything,” he said. The fighting has thrown the UN’s Libya peace plan, centred on elections due to be held in December, into further doubt. France has been pushing for elections this year in the face of Italian scepticism. UN officials are trying to convene peace talks for Tuesday, but it is unclear how many militia leaders will attend, or be invited. Artillery and rocket fire echoed through the city in a battle that began last month when the self-styled seventh brigade, a powerful militia from the nearby town of Tarhuna, pushed into the city’s southern outskirts. The brigade has been battling against Tripoli-based militias who until now have had effective control of the capital, in fighting that has left at least 47 dead and more than 100 wounded. The cartel of Tripoli-based militias are nominally loyal to the UN government of national accord, but critics say they in fact dominate the government, and its decisions. Shops have been looted and the city centre international airport closed, with flights hurriedly diverted after rockets landed nearby. A truce announced last week broke down within hours, leaving humanitarian workers fearing for the safety of civilians caught in the crossfire. The UN secretary general, António Guterres, appealed on Sunday for a humanitarian pause to allow civilians to be evacuated, warning: “Indiscriminate use of force is a violation of international humanitarian and human rights law.” Britain joined France, Italy and the US in issuing a joint appeal for calm, warning that protagonists will be “made accountable”. The British embassy is closed, along with most embassies having relocated to neighbouring Tunisia when civil war broke out in 2014. The Italian embassy has evacuated some staff due to the fighting. In the city itself, citizens describe anarchy and widespread looting. “Car show rooms have been looted by incoming militias and shopkeepers in Shara Madar district have cleared shops of mobile phones in case looting spreads,” tweeted one resident. Libya remains divided between two governments, with the GNA opposed to the parliament in the eastern town of Tobruk. Parliament’s powerful Libyan National Army, led by Khalifa Haftar, controls most of the country’s oil wealth but has so far remained aloof from the fighting. With few embassies in Tripoli, diplomatic options for negotiating a truce are limited. The US continues to launch periodic airstrikes on Isis units, most recently last week, but the New York Times reported on Sunday that the Pentagon was considering pulling its special forces out of the country.