Novak Djokovic extended his winning streak to 21 matches and set up a semi-final against Roger Federer with a hard-fought 4-6, 6-2, 6-3 win over Marin Cilic at the Paris Masters. Djokovic, who will return to world No 1 next week, lost the first set but rallied in the second, and fought back from a break of serve – and broken racket – in the decider. He will now face Federer after the Swiss player saw off Kei Nishikori 6-4, 6-4 in the second game of the evening. “It was a big challenge,” Djokovic said. “I was a break down in the third set and this match could have gone either way. I won but if he had won, it would have been absolutely deserved. I’m just pleased to be in the semis and I know I can play better.” Cilic broke in the ninth game of the first set as Djokovic struggled with his serve, and took the set on serve when Djokovic sent a backhand wide. Djokovic fought back to take the second set 6-2, breaking in the fifth game and running away with the set. In the third, a Cilic cross-court forehand winner saw him break for 2-1, leading Djokovic to break his racket in frustration. The US Open and Wimbledon champion broke straight back and won five of the last six games. Dominic Thiem will face Russia’s Karen Khachanov in the other semi-final after the Austrian beat the defending champion Jack Sock 4-6, 6-4, 6-4. Thiem served out the match and clinched victory on his first match point when Sock hit a big forehand long. “I’m in the semi-finals of a Masters 1000 only for the fourth time,” Thiem said. “It means a lot for me because I didn’t do too well in the previous years in this part of the season.” The unseeded Khachanov thrashed the No 4 seed Alexander Zverev 6-1, 6-2 in a bad-tempered encounter. Zverev spoke to his opponent at the end of the first set about comments coming from his box. “I told him my shoulder is hurting and that his uncle, or something, that he’s going a bit crazy,” Zverev said. “I told him to tell him to keep it down a little bit because he was going a little bit too much over the edge.”