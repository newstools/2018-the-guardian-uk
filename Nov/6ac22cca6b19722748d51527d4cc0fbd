The Senate has delivered a significant rebuke to the Trump administration by defying the advice of its top officials and advancing a measure that would cut US military support for the Saudi-led coalition in Yemen. The Republican-majority chamber voted 63-37 to allow the measure, which invokes the War Powers Resolution, stopping all involvement of US armed forces in the Yemen war, to proceed to the floor of the Senate for a vote, expected next week. The bipartisan measure was introduced by the independent senator and former presidential candidate Bernie Sanders, Republican senator Mike Lee and Democrat Chris Murphy. It may yet be significantly amended, it would not stop arms sales to Saudi Arabia or the United Arab Emirates, and would face an uphill challenge to be passed by the House of Representatives. But the moment represented a highly symbolic act of defiance, coming a few hours after the administration had wheeled out two of its biggest guns, the secretary of state, Mike Pompeo, and defence secretary, James Mattis, to brief the entire Senate on the essential importance to US national security of US support for the Saudi-led coalition. It also marked an assertion of Congress’s constitutional prerogative to decide whether the country goes to war – and an expression of alarm over the actions of the Saudi crown prince, Mohammed bin Salman. After casting his vote, the Republican chair of the Senate foreign relations committee, Bob Corker, expressed his admiration for Pompeo and Mattis but added: “I found their briefing today to be lacking. I found that in substance we’re not doing those things that we should be doing to appropriately balance our relationship with Saudi Arabia between our American interests and our American values.” The defeat followed a series of missteps by the administration, including a newspaper commentary by Pompeo belittling human rights concerns about Saudi actions, and the absence at the Senate briefing of CIA director, Gina Haspel, who senators wanted to brief them about the murder of the Washington Post columnist Jamal Khashoggi. The CIA has reportedly assessed that Prince Mohammed most likely ordered the killing of the dissident journalist in the Saudi consulate in Istanbul on 2 October. Bob Menendez, the top Democrat on the Senate foreign relations committee, said Haspel’s failure to appear was “outrageous” and a “cover-up”. A CIA spokesman denied that the White House blocked Haspel from appearing at the hearing. “The notion that anyone told Director Haspel not to attend today’s briefing is false,” an agency spokesman, Timothy Barrett, said in a statement. However, the Democratic senator Dick Durbin emerged from the morning briefing in the Senate’s secure chamber, used for classified discussions, saying that Mattis and Pompeo had told the senators that the White House had blocked the CIA director’s attendance. “The most persuasive presence at this briefing was an empty chair – a chair that should have been occupied by Gina Haspel, head of the Central Intelligence Agency,” Durbin told reporters. “We were told at this briefing that it was at the direction of the White House that she not attend.” Speaking to reporters after he addressed the Senate, Pompeo repeated administration claims that there was no direct evidence connecting Prince Mohammed to Khashoggi’s murder. But Senator Corker rejected that assertion, declaring: “As to whether the crown prince was involved in this killing, it’s my belief that he was. It’s my belief that he ordered it.” Thomas Wright, director of the Center on the US and Europe at the Brookings Institution said: “I think it’s really about sending a message that Congress is very worried about where Saudi Arabia is headed.” “The Pompeo op-ed and some of Trump’s remarks were seen as callous but also naive about what is happening inside Saudi Arabia,” Wright added. “The administration has been writing Mohammed bin Salman blank cheques he is cashing in on, in a way that is badly damaging to US interests” The murder of Khashoggi, a US resident, has significantly heightened the growing unease in Congress over the mounting civilian toll in Yemen, where more than 50,000 people are estimated to have died, many as a direct result of the Saudi coalition’s bombing campaign. Save the Children has said that many more, including up to 85,000 children, have died from starvation, in large part as a result of the coalition effort to strangle the economy in areas under control of Houthi rebels. The UN has warned that 14 million Yemeni lives are at risk from a famine it suggests is imminent. The suffering in Yemen grieves me, but if the US was not involved in Yemen, it would be a hell of a lot worse Before his appearance at the Senate, Pompeo played down human rights concerns in a commentary for the Wall Street Journal. He referred to them as “caterwauling and media pile-on” in the “salons of Washington”. In his speech to the Senate, made available by the state department, Pompeo argued that support of the coalition was critical to US interests, in particular the struggle against Iran, which the administration has made the cornerstone of its Middle East policy. In his presentation, Mattis made similar arguments. “While tragedies occur in war, we assess restraint and improved tactical judgment by Arab coalition pilots has reduced the risk of civilian casualties,” he told senators. The administration has made similar claims before, and human rights groups said that there was no sign that the civilian death toll from the bombing campaign was declining.